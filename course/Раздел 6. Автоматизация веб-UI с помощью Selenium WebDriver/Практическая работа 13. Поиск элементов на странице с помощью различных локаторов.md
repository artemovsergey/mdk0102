# Практическая работа 13. Поиск элементов на странице с помощью различных локаторов

## Цель работы

- Научиться использовать различные типы локаторов в Selenium WebDriver для поиска элементов.
- Освоить практику написания тестов, проверяющих корректность отображения и взаимодействия с элементами.
- Научиться выбирать оптимальный локатор в зависимости от структуры HTML страницы.

---

## Теоретическая часть

**Локаторы (Locators)** — это способы поиска элементов на веб-странице.
От корректного выбора локатора зависит **устойчивость тестов** и **скорость их выполнения**.

Selenium WebDriver поддерживает следующие основные типы локаторов:

| Тип локатора        | Метод                                 | Пример использования                            | Примечание                              |
| ------------------- | ------------------------------------- | ----------------------------------------------- | --------------------------------------- |
| **ID**              | `By.Id("username")`                   | Уникальный идентификатор                        | Самый быстрый и надёжный                |
| **Name**            | `By.Name("login")`                    | Поиск по атрибуту `name`                        | Используется, если нет ID               |
| **ClassName**       | `By.ClassName("form-control")`        | Поиск по CSS-классу                             | Может находить несколько элементов      |
| **TagName**         | `By.TagName("input")`                 | Поиск по тегу                                   | Удобен для подсчёта элементов           |
| **LinkText**        | `By.LinkText("Forgot Password")`      | Поиск по тексту ссылки                          | Полный текст ссылки                     |
| **PartialLinkText** | `By.PartialLinkText("Forgot")`        | Поиск по части текста ссылки                    | Гибкий, но может дать лишние совпадения |
| **CSS Selector**    | `By.CssSelector("#loginBtn")`         | Гибкий, быстрый, поддерживает сложные выражения | Один из самых популярных                |
| **XPath**           | `By.XPath("//input[@id='username']")` | Очень гибкий, подходит для сложных DOM          | Медленнее CSS, требует внимательности   |

---

## Ход работы

### Шаг 1. Создание проекта

1. Создать проект **NUnit Test Project (.NET)**.
2. Установить через NuGet:

   * `Selenium.WebDriver`
   * `Selenium.WebDriver.ChromeDriver`
   * `Selenium.Support`

### Шаг 2. Настройка WebDriver

```csharp
using NUnit.Framework;
using OpenQA.Selenium;
using OpenQA.Selenium.Chrome;

namespace LocatorTests
{
    [TestFixture]
    public class LocatorExamples
    {
        private IWebDriver _driver;

        [SetUp]
        public void Setup()
        {
            _driver = new ChromeDriver();
            _driver.Manage().Window.Maximize();
            _driver.Navigate().GoToUrl("https://example.com/login");
        }

        [TearDown]
        public void TearDown()
        {
            _driver.Quit();
        }
    }
}
```

### Шаг 3. Примеры поиска элементов с помощью различных локаторов

```csharp
[Test]
public void FindElementsUsingDifferentLocators()
{
    // ID
    IWebElement usernameById = _driver.FindElement(By.Id("username"));
    Assert.IsTrue(usernameById.Displayed, "Элемент по ID не найден");

    // Name
    IWebElement passwordByName = _driver.FindElement(By.Name("password"));
    Assert.IsTrue(passwordByName.Displayed, "Элемент по Name не найден");

    // ClassName
    IWebElement loginButtonByClass = _driver.FindElement(By.ClassName("btn-primary"));
    Assert.IsTrue(loginButtonByClass.Displayed, "Элемент по ClassName не найден");

    // CSS Selector
    IWebElement loginByCss = _driver.FindElement(By.CssSelector("#loginBtn"));
    Assert.IsTrue(loginByCss.Displayed, "Элемент по CSS Selector не найден");

    // XPath
    IWebElement linkByXPath = _driver.FindElement(By.XPath("//a[contains(text(),'Forgot Password')]"));
    Assert.IsTrue(linkByXPath.Displayed, "Элемент по XPath не найден");
}
```

### Шаг 4. Запуск теста

1. Открыть меню **Test → Run All Tests**.
2. Проверить, что все элементы находятся успешно.
3. Сделать **скриншот** результатов и сохранить в папку `/images`.

---

## Практический пример

**Сценарий:**
Проверить, что на странице авторизации присутствуют все ключевые элементы:

* Поле для логина
* Поле для пароля
* Кнопка входа
* Ссылка для восстановления пароля

---

## Варианты заданий (выбираются по номеру в журнале)

1. Найти поле для ввода логина по **ID**
2. Найти поле для ввода пароля по **Name**
3. Найти кнопку «Login» по **ClassName**
4. Найти ссылку «Forgot Password» по **LinkText**
5. Найти логотип по **TagName**
6. Найти кнопку входа по **CSS Selector**
7. Найти поле логина по **XPath**
8. Найти ссылку «Sign up» по **PartialLinkText**
9. Найти кнопку «Submit» по **CSS селектору с классом**
10. Найти элемент меню по **XPath с атрибутом**
11. Найти чекбокс «Remember me» по **ID**
12. Найти элемент футера по **TagName**
13. Найти кнопку «Send» по **CSS селектору с атрибутом**
14. Найти элемент заголовка по **XPath через текст**
15. Найти ссылку «Help» по **PartialLinkText**

---

## Критерии оценки

| Оценка | Критерии                                                                             |
| :----- | :----------------------------------------------------------------------------------- |
| **2**  | Проект создан, тест запускается, найден хотя бы один элемент                         |
| **3**  | Используются не менее 3 разных локаторов                                             |
| **4**  | Используются все основные локаторы (ID, Name, Class, CSS, XPath), тесты проходят     |
| **5**  | Все локаторы реализованы, код структурирован, есть скриншоты и оформленный readme.md |

---

## Контрольные вопросы

1. Что такое локатор в Selenium WebDriver?
2. Какие типы локаторов вы знаете?
3. Чем отличается `By.Id()` от `By.Name()`?
4. В чем преимущество CSS Selector перед XPath?
5. Когда стоит использовать XPath?
6. Как проверить, что элемент найден на странице?
7. Что произойдет, если элемент не найден?
8. Как можно оптимизировать поиск элементов в тестах?
9. Зачем нужны разные типы локаторов в проекте?
10. Как оформить код и результаты работы в репозитории?

---

## Структура репозитория

```
LocatorAutomation/
│
├─ Drivers/             # Инициализация WebDriver
├─ Tests/               # Тесты с разными локаторами
├─ images/              # Скриншоты работы тестов
└─ readme.md            # Информация о работе и варианте
```

---

### Пример `readme.md`

````markdown
# Практическая работа №13
## Тема: Поиск элементов на странице с помощью различных локаторов
### Вариант: 7

**Задание:** Найти поле логина по XPath и проверить, что оно отображается.

**Пример кода:**
```csharp
IWebElement username = driver.FindElement(By.XPath("//input[@id='username']"));
Assert.IsTrue(username.Displayed, "Поле логина не найдено");
````

```
