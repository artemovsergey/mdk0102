# Практическая работа 14. Автоматизация сценария входа на сайт

## Тема

Автоматизация тестового сценария входа на веб-сайт с использованием Selenium WebDriver на .NET.

## Цель работы

* Научиться автоматизировать сценарий логина через Selenium WebDriver.
* Использовать различные локаторы (ID, Name, CSS Selector, XPath).
* Создавать стабильные и читаемые UI-тесты.
* Формировать репозиторий с проектом, скриншотами и документацией.

---

## Теоретическая часть

**Вход на сайт (логин)** – это один из базовых сценариев тестирования веб-приложений.

**Компоненты страницы логина:**

* Поле для ввода имени пользователя (`Username`)
* Поле для ввода пароля (`Password`)
* Кнопка `Login`
* Возможные ссылки: «Забыли пароль?» или «Регистрация»

**Принципы автоматизации логина:**

1. Инициализация WebDriver (например, ChromeDriver)
2. Открытие страницы логина
3. Поиск элементов страницы через локаторы
4. Ввод данных и клик по кнопке
5. Проверка успешного входа (например, URL, заголовок страницы или видимость элемента)

---

## Ход работы

### Шаг 1: Подготовка проекта

1. Создать проект **NUnit Test Project** на C#.
2. Установить через NuGet:

   * `Selenium.WebDriver`
   * `Selenium.WebDriver.ChromeDriver`
   * `Selenium.Support`

### Шаг 2: Создание структуры проекта

```
/Drivers      - инициализация WebDriver
/Pages        - классы страниц (Page Object Model)
/Tests        - тестовые классы
/Utils        - вспомогательные функции
/images       - скриншоты работы теста
readme.md     - описание работы и вариант задания
```

### Шаг 3: Создание Page класса (LoginPage.cs)

```csharp
using OpenQA.Selenium;
using OpenQA.Selenium.Support.UI;
using SeleniumExtras.WaitHelpers;

public class LoginPage
{
    private IWebDriver _driver;
    private WebDriverWait _wait;

    public LoginPage(IWebDriver driver)
    {
        _driver = driver;
        _wait = new WebDriverWait(driver, TimeSpan.FromSeconds(10));
    }

    private IWebElement UsernameField => _driver.FindElement(By.Id("username"));
    private IWebElement PasswordField => _driver.FindElement(By.Id("password"));
    private IWebElement LoginButton => _driver.FindElement(By.Id("loginBtn"));

    public void EnterUsername(string username) => UsernameField.SendKeys(username);
    public void EnterPassword(string password) => PasswordField.SendKeys(password);
    public void ClickLogin() => LoginButton.Click();
    public void LoginAs(string username, string password)
    {
        EnterUsername(username);
        EnterPassword(password);
        ClickLogin();
    }
}
```

### Шаг 4: Создание теста (LoginTests.cs)

```csharp
using NUnit.Framework;
using OpenQA.Selenium;
using OpenQA.Selenium.Chrome;

[TestFixture]
public class LoginTests
{
    private IWebDriver _driver;
    private LoginPage _loginPage;

    [SetUp]
    public void Setup()
    {
        _driver = new ChromeDriver();
        _driver.Manage().Window.Maximize();
        _driver.Navigate().GoToUrl("https://example.com/login");
        _loginPage = new LoginPage(_driver);
    }

    [Test]
    public void SuccessfulLoginTest()
    {
        _loginPage.LoginAs("testuser", "password123");

        // Проверка успешного входа
        Assert.IsTrue(_driver.Url.Contains("/home"), "Переход на главную страницу не выполнен");
    }

    [TearDown]
    public void TearDown()
    {
        _driver.Quit();
    }
}
```

### Шаг 5: Запуск теста

* В Visual Studio → Test → Run All Tests
* Проверить, что браузер открылся, данные введены, и произошел переход на домашнюю страницу

---

## Варианты заданий (по номеру в журнале)

1. Автоматизация успешного входа с корректными данными
2. Автоматизация входа с неверным паролем и проверка сообщения об ошибке
3. Проверка отображения поля «Username» на странице входа
4. Проверка отображения поля «Password» на странице входа
5. Проверка видимости кнопки «Login»
6. Проверка отображения ссылки «Забыли пароль?»
7. Проверка перехода на страницу регистрации через ссылку «Регистрация»
8. Ввод некорректного имени пользователя и проверка сообщения об ошибке
9. Проверка успешного выхода из системы
10. Проверка блокировки кнопки «Login» при пустых полях
11. Ввод специальных символов в поле «Username» и проверка ошибки
12. Проверка наличия логотипа компании на странице входа
13. Проверка перехода на страницу с политикой конфиденциальности
14. Проверка отображения всплывающей подсказки при наведении на поле
15. Автоматизация входа с помощью Page Object Model и методов логина в один шаг

---

## Критерии оценки

| Оценка | Критерии                                                                                            |
| ------ | --------------------------------------------------------------------------------------------------- |
| 2      | Тест создан, но проверка элементов неполная или тест не проходит                                    |
| 3      | Тесты запускаются, проверяются 2–3 элемента страницы                                                |
| 4      | Тесты полностью автоматизированы, проверяются все элементы, работает проверка успешного входа       |
| 5      | Полная автоматизация сценария, проект структурирован (Page Object), есть скриншоты, readme оформлен |

---

## Контрольные вопросы

1. Какие NuGet-пакеты необходимы для автоматизации UI-тестов?
2. Как инициализировать Chrome WebDriver в C#?
3. Что такое Page Object Model и зачем её использовать?
4. Какие локаторы можно применять для поиска элементов на странице?
5. Как проверить успешный вход на сайт?
6. В чем разница между `[SetUp]` и `[TearDown]` в NUnit?
7. Как оформить репозиторий с проектом, скриншотами и readme.md?

---

## Структура репозитория

```
LoginAutomation/
│
├─ Drivers/             # инициализация WebDriver
├─ Pages/               # Page классы (LoginPage.cs)
├─ Tests/               # Тестовые классы (LoginTests.cs)
├─ Utils/               # Вспомогательные функции
├─ images/              # Скриншоты работы теста
└─ readme.md            # Описание работы, вариант, текст задания
```

### Пример содержания `readme.md`

````markdown
# Практическая работа №14
## Тема: Автоматизация сценария входа на сайт
### Вариант: 3

**Задание:** Проверить отображение поля «Username» на странице входа.

**Пример кода:**
```csharp
IWebElement usernameField = driver.FindElement(By.Id("username"));
Assert.IsTrue(usernameField.Displayed, "Поле Username не отображается");
````

```
