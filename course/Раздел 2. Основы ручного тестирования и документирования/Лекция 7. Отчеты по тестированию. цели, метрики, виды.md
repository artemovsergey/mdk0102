# Лекция 7. Отчеты по тестированию

**Тема:** Отчеты по тестированию: цели, метрики, виды. Роль фронтенд-разработчика в процессе тестирования.

**Цель лекции:** Сформировать понимание важности, структуры и видов отчетов по тестированию. Объяснить, как разработчик может использовать эти отчеты для повышения качества кода и ускорения процесса разработки.

---

### **План лекции:**

1.  **Введение: Зачем нужны отчеты по тестированию?**
    *   Проблема: "Тестировщик нашел баг" vs. "Система не соответствует требованию".
    *   Отчет как инструмент коммуникации между тестировщиком, разработчиком и менеджером.
    *   Отчет как источник данных для принятия решений.

2.  **Основные цели создания отчетов по тестированию**
    *   Информирование о текущем статусе качества продукта.
    *   Предоставление данных для принятия решения о выпуске (Release Decision).
    *   Выявление узких мест и рисков в проекте.
    *   Демонстрация прогресса тестирования.
    *   Основа для улучшения процессов разработки и тестирования.

3.  **Ключевые метрики в отчетах по тестированию**
    *   **Количественные метрики:**
        *   Общее количество тест-кейсов.
        *   % успешных/проваленных/пропущенных тестов.
        *   Количество найденных дефектов (общее, новые, reopened).
        *   Плотность дефектов (Defect Density).
        *   Coverage (Code Coverage, Test Coverage) – что это и как интерпретировать.
    *   **Качественные метрики:**
        *   Серьезность (Severity) и Приоритет (Priority) дефектов.
        *   Статус дефектов (Open, In Progress, Retest, Closed, Rejected).
        *   Оценка стабильности функциональности.

4.  **Виды отчетов по тестированию с примерами для фронтенда**
    *   **Отчет о дефекте (Bug Report):** Основная единица коммуникации.
    *   **Ежедневный отчет о тестировании (Daily Test Report):** Для синхронизации команды.
    *   **Сводный отчет о тестировании (Test Summary Report):** Итог тестовой сессии или цикла.
    *   **Отчет о качестве сборки (Build Quality Report):** "Можно ли тестировать дальше?".

5.  **Роль фронтенд-разработчика в работе с отчетами**
    *   Как правильно читать и реагировать на баг-репорты.
    *   Использование отчетов для оценки рисков при внесении изменений в код.
    *   Интеграция метрик в процесс CI/CD (например, проверка покрытия кода).

6.  **Резюме**
7.  **Контрольные вопросы**

---

### **Подробное рассмотрение каждого пункта плана:**

#### **1. Введение: Зачем нужны отчеты по тестированию?**

Представьте ситуацию: тестировщик подходит к вам и говорит: "У тебя баг в форме заказа". Ваша первая реакция? "Что не так? Где? При каких условиях?".

Отчет по тестированию – это формализованный ответ на эти вопросы. Это не просто констатация факта, а документ, который:
*   **Структурирует информацию:** Все данные собраны в одном месте по единому шаблону.
*   **Устраняет недопонимание:** Четкое описание шагов не позволяет интерпретировать их по-разному.
*   **Создает историю:** По отчету можно отследить, когда баг был найден, что было сделано для его исправления и подтверждения фикса.
*   **Дает данные для анализа:** Почему багов стало больше на этом спринте? Какие компоненты самые "слабые"?

**Для фронтенд-разработчика** хороший отчет – это четкое техническое задание на исправление, которое экономит часы на самостоятельное воспроизведение и поиск причины.

#### **2. Основные цели создания отчетов по тестированию**

*   **Информирование о текущем статусе качества продукта.**
    *   *Пример:* Менеджер проекта смотрит на дашборд и видит, что 95% тестов прошли успешно, но 5% проваленных – это критические баги в процессе оплаты. Вывод: функциональность в целом стабильна, но ключевой блок не готов к продакшену.

*   **Предоставление данных для принятия решения о выпуске (Release Decision).**
    *   *Пример:* Перед релизом команда анализирует `Test Summary Report`. Критерий "0 Critical багов" выполнен, критерий "Code Coverage >80%" выполнен. Руководство принимает решение о выпуске.

*   **Выявление узких мест и рисков в проекте.**
    *   *Пример:* Аналитик смотрит на метрики и видит, что 40% всех багов связано с новым `React-компонентом таблицы`. Это сигнал для команды: возможно, компонент имеет плохую архитектуру или его API не продуман. Фронтенд-разработчикам стоит уделить ему больше внимания.

*   **Демонстрация прогресса тестирования.**
    *   *Пример:* В середине спринта видно, что протестировано только 30% функциональности. Это может говорить о том, что разработка сдала мало задач, либо тестирование столкнулось с блокирующими проблемами.

*   **Основа для улучшения процессов.**
    *   *Пример:* Команда замечает, что много багов "возвращается" на доработку (статус `Reopened`). Это повод провести ретроспективу: может, тестировщики плохо описывают шаги, а может, разработчики недотягивают с качеством фикса.

#### **3. Ключевые метрики в отчетах по тестированию**

**Количественные метрики (легко измерить):**

*   **% успешных/проваленных/пропущенных тестов:**
    *   *Расчет:* `(Пройденные тесты / Общее количество тестов) * 100%`.
    *   *Пример для фронтенда:* В вашем проекте на Jest 500 тестов. 485 passed, 10 failed, 5 skipped. Успешных = (485/500)*100 = 97%. Это высокая цифра, но нужно смотреть *какие* тесты провалились.

*   **Количество найденных дефектов:**
    *   *Важно смотреть на динамику:* Резкий рост может означать проблемы с качеством кода в новой фиче. Уменьшение количества новых багов ближе к релизу – хороший знак.

*   **Плотность дефектов (Defect Density):**
    *   *Расчет:* `Количество дефектов / Размер модуля (в строках кода KLOC или в story points)`.
    *   *Пример:* Модуль "Личный кабинет" = 10 дефектов, модуль "Каталог товаров" = 2 дефекта. При этом оба модуля по сложности были оценены в 5 story points. Плотность дефектов в "Личном кабинете" в 5 раз выше. Вывод: этот модуль требует рефакторинга.

*   **Coverage (Покрытие кода):**
    *   *Что это:* Процент строк/ветвей/функций вашего кода, которые выполняются при запуске тестов.
    *   *Пример:* Вы пишете unit-тесты на Jest для функции `calculateDiscount(totalPrice, promoCode)`. Coverage показывает, проверили ли вы все возможные ветвления (if/else) внутри этой функции.
    *   *Важно!* Высокое покрытие ≠ высокое качество. 100% покрытие бесполезного кода ничего не дает. Это метрика для поиска непротестированных мест, а не индикатор качества тестов.

**Качественные метрики (требуют интерпретации):**

*   **Серьезность (Severity)** – влияние бага на систему:
    *   `S1-Critical`: Падение приложения (белый экран в React), невозможность выполнить ключевой сценарий (оплата).
    *   `S2-Major`: Основная функциональность работает с ограничениями (не сохраняются настройки профиля).
    *   `S3-Moderate/Medium`: Проблема не критична, но заметна (неправильная валидация поля, некритичная опечатка).
    *   `S4-Low/Trivial`: Косметическая проблема (незначительное смещение элемента в Safari).

*   **Приоритет (Priority)** – срочность исправления:
    *   `P1-High`: Исправить немедленно (блокирует дальнейшее тестирование или работу пользователей).
    *   `P2-Medium`: Исправить до следующего релиза.
    *   `P3-Low`: Исправить, когда будет время.

*   *Пример для фронтенда:*
    *   *Баг:* "Кнопка 'Отправить' смещена на 2px влево в браузере Firefox". **Severity: Low, Priority: Low**.
    *   *Баr:* "При клике на 'Купить' в корзину добавляется не тот товар". **Severity: Critical, Priority: High**.

#### **4. Виды отчетов по тестированию с примерами для фронненда**

**1. Отчет о дефекте (Bug Report) – Самый важный для разработчика!**

*   **Цель:** Дать разработчику всю необходимую информацию для воспроизведения и исправления ошибки.
*   **Структура (пример в Jira/YouTrack):**
    *   **Заголовок:** Краткий и понятный. `[Личный кабинет] Аватарка пользователя не загружается, если выбрать файл .png размером более 5MB`.
    *   **Описание:** Детальное описание проблемы.
    *   **Шаги для воспроизведения (Steps to Reproduce):**
        1.  Авторизоваться в приложении.
        2.  Перейти в "Личный кабинет" -> "Настройки профиля".
        3.  Нажать "Загрузить аватар".
        4.  Выбрать файл `large_image.png` (размер 5.2 MB).
        5.  *Ожидаемый результат:* Файл загружается, появляется сообщение "Успешно".
        6.  *Фактический результат:* Появляется красная плашка ошибки "Ошибка сервера 500", аватар не меняется.
    *   **Фактический и Ожидаемый результат:** Обязательно!
    *   **Окружение (Environment):** `Chrome 121, Windows 11, Staging environment v.2.1.5`.
    *   **Прикрепленные файлы:** Скриншот ошибки, логи из Console/Network вкладки DevTools, видео.
    *   **Severity/Priority:** `Major, High`.

**2. Ежедневный отчет о тестировании**

*   **Цель:** Быстрая синхрониция команды утром на стендапе.
*   **Содержание:**
    *   Что было протестировано вчера.
    *   Что планируется тестировать сегодня.
    *   Ключевые найденные проблемы (блокирующие, критические).
    *   *Пример:* "Вчера протестирована новая форма обратной связи. Найдено 3 бага (2 Minor, 1 Major). Major-баг (невозможно отправить форму без телефона) блокирует положительный сценарий. Сегодня планирую тестировать фильтры в каталоге."

**3. Сводный отчет о тестировании (Test Summary Report)**

*   **Цель:** Подвести итоги тестирования фичи, спринта или релиза.
*   **Содержание (часто в виде дашборда):**
    *   Обзор выполненного тестирования.
    *   Статистика по метрикам (см. пункт 3).
    *   Прошедшие/непрошедшие тесты.
    *   Анализ рисков: Какие баги остаются открытыми и почему мы можем с ними выпускать?
    *   Выводы и рекомендации ("Рекомендую к выпуску", "Требуется дополнительный цикл тестирования").

**4. Отчет о качестве сборки (Build Quality Report)**

*   **Цель:** Решить, можно ли передавать сборку в тестирование.
*   **Содержание (генерируется автоматически в CI-системе like Jenkins/GitLab CI):**
    *   Номер сборки.
    *   Результат запуска юнит-тестов (% passed).
    *   Code Coverage.
    *   Результат статического анализа кода (ESLint, TypeScript errors).
    *   *Пример решения:* "Если coverage упал ниже 70% или количество ESLint ошибок выросло – сборка помечается как `unstable`, и тестировщики ее не получают".

#### **5. Роль фронтенд-разработчика в работе с отчетами**

*   **Читайте баг-репорты ВНИМАТЕЛЬНО.** Прежде чем брать в работу, убедитесь, что можете воспроизвести проблему по описанным шагам. Если не можете – не меняйте код, уточните у тестировщика.
*   **Используйте данные отчетов проактивно.**
    *   Если видите, что в определенном компоненте постоянно появляются баги, инициируйте его рефакторинг.
    *   Смотрите на `Test Summary Report` перед тем, как брать новую задачу, чтобы понимать общую стабильность продукта.
*   **Интегрируйте метрики в свой рабочий процесс.**
    *   Настройте pre-commit хуки, чтобы не пропускать eslint errors.
    *   Следите, чтобы coverage ваших новых компонентов не опускался ниже установленного порога.
    *   Используйте инструменты like Lighthouse CI в пайплайне, чтобы отслеживать производительность и доступность вашего приложения автоматически.

---

### **Резюме:**

1.  **Отчеты – это не бюрократия, а инструмент коммуникации и данные для принятия решений.**
2.  **Главный отчет для разработчика – `Bug Report`.** Качественный баг-репорт экономит время всем.
3.  **Метрики бывают количественные и качественные.** Нужно уметь читать и те, и другие. Coverage – полезный инструмент, но не серебряная пуля.
4.  **Разные отчеты служат разным целям:** от оперативного ежедневного обсуждения до стратегического решения о выпуске.
5.  **Профессиональный фронтенд-разработчик не просто "чинит баги", а анализирует отчеты, чтобы улучшать качество кода и процессов на системном уровне.**

---

### **Контрольные вопросы:**

1.  Назовите три основные цели создания отчетов по тестированию.
2.  В чем разница между **Severity** и **Priority** дефекта? Приведите пример бага на фронтенде с высокой серьезностью, но низким приоритетом.
3.  Какая информация является **обязательной** в хорошем отчете о дефекте (Bug Report)?
4.  Ваш коллега говорит: "Мой компонент имеет 100% code coverage, значит, в нем нет багов". Прав ли он? Обоснуйте свой ответ.
5.  Как фронтенд-разработчик может использовать `Test Summary Report` для улучшения своей работы?
6.  Какие автоматизированные метрики, по вашему мнению, должны блокировать передачу фронтенд-сборки в тестирование?